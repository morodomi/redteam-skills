# TDD Cycle: attack-report

## Overview

| Item | Value |
|------|-------|
| Feature | 基本レポート出力機能 |
| Issue | #6 |
| Phase | DONE |
| Started | 2024-12-24 14:35 |

## Environment

| Tool | Version |
|------|---------|
| Claude Code | 2.0.75 |
| Platform | darwin (macOS) |

## Goal

セキュリティスキャン結果をレポート形式で出力するスキルを実装する。

### 出力形式（MVP）
- Markdown形式

### 機能
- 脆弱性サマリー
- 詳細一覧
- 推奨対策

## PLAN

### スコープ

attack-reportスキルの作成。security-scan結果をMarkdownレポートに変換。

### ファイル構成

```
plugins/redteam-core/skills/
└── attack-report/
    ├── SKILL.md       # スキル定義
    └── reference.md   # 詳細リファレンス
```

### スキル設計

```yaml
name: attack-report
description: セキュリティスキャン結果をMarkdownレポートに変換。
```

### レポート構成

```markdown
# Security Scan Report

## Summary
- スキャン日時
- 対象ディレクトリ
- フレームワーク
- 脆弱性サマリー（Critical/High/Medium/Low）

## Vulnerabilities

### Critical (0)
### High (2)
- [SQLI-001] SQL Injection in UserController.php:45
  - Description: ...
  - Remediation: ...

### Medium (1)
### Low (0)

## Recommendations
- 優先度順の対策リスト
```

### 使用方法

```bash
/attack-report              # 直前のsecurity-scan結果をレポート化
/attack-report ./report.md  # 指定ファイルに出力
```

## Test List

### TODO
- [ ] TC-01: skills/attack-report/ ディレクトリが存在する
- [ ] TC-02: SKILL.md が存在する
- [ ] TC-03: YAML frontmatter（name, description）が存在する
- [ ] TC-04: レポート構成（Summary, Vulnerabilities, Recommendations）が定義されている
- [ ] TC-05: 入力形式（security-scan JSON）が記載されている
- [ ] TC-06: 出力形式（Markdown）が存在する
- [ ] TC-07: reference.md が存在する
- [ ] TC-08: 使用方法が記載されている

## Phase Log

| Phase | Status | Note |
|-------|--------|------|
| INIT | Done | Cycle doc作成 |
| PLAN | Done | スキル設計、Test List作成 |
| RED | Done | 8テスト作成、全失敗確認 |
| GREEN | Done | SKILL.md, reference.md作成、全テスト成功 |
| REFACTOR | Done | リファクタリング不要（構造クリーン） |
| REVIEW | Done | テスト全PASS、code-review完了（Critical=0件） |
| COMMIT | Done | 1bc9479 |

## References

- [security-scan](../../plugins/redteam-core/skills/security-scan/SKILL.md)
