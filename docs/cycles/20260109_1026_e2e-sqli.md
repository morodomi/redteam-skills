# Cycle: e2e-sqli

| Item | Value |
|------|-------|
| Issue | #34 |
| Phase | DONE |
| Created | 2026-01-09 10:26 |

## Environment

| Tool | Version |
|------|---------|
| Node.js | v22.17.0 |

## Goal

SQL Injection脆弱性のE2Eテストテンプレートを生成する。

## Background

From Issue #34:
- 対象: Error-based, Union-based, Boolean-blind, Time-blind SQLi
- Playwrightベースのテストテンプレート
- injection-attackerとの連携

## Scope

From Issue #34:
- [ ] sqli.spec.ts.tmpl 作成
- [ ] 4タイプのSQLiテストパターン
- [ ] テストスクリプト作成

## PLAN

### Design

```
sqli.spec.ts.tmpl
├── Error-based SQLi (エラーメッセージ検出)
├── Union-based SQLi (データ漏洩検出)
├── Boolean-blind SQLi (レスポンス差分)
└── Time-blind SQLi (レスポンス時間)
```

### Test Patterns

| Type | Payload | Assertion |
|------|---------|-----------|
| Error-based | `'` | SQL error message in response |
| Union-based | `' UNION SELECT null--` | Injected data visible |
| Boolean-blind | `' AND 1=1--` vs `' AND 1=2--` | Response difference |
| Time-blind | `'; WAITFOR DELAY '0:0:3'--` | Response time > 3s |

### Files to Create

| File | Changes |
|------|---------|
| plugins/redteam-core/skills/generate-e2e/templates/sqli.spec.ts.tmpl | 新規作成 |
| scripts/test-e2e-sqli.sh | テストスクリプト |

## Test List

### TODO
- [ ] TC-01: [正常系] Error-based SQLiテストパターン存在
- [ ] TC-02: [正常系] Union-based SQLiテストパターン存在
- [ ] TC-03: [正常系] Boolean-blind SQLiテストパターン存在
- [ ] TC-04: [正常系] Time-blind SQLiテストパターン存在
- [ ] TC-05: [正常系] Playwright import文
- [ ] TC-06: [境界値] 複数ペイロード対応
- [ ] TC-07: [異常系] 構文エラーなし

### WIP

### DONE

## REVIEW

(REVIEWフェーズで記入)

## Notes

- v2.3 マイルストーン
- 既存e2eテンプレート（xss, csrf, auth, ssrf）と同様の構造
